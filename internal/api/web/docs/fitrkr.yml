openapi: 3.1.0
sinfo:
  title: Fitrkr Atlas API
  description: API for exercises database api management
  version: 1.0.0
servers:
  - url: http://localhost:8080/api/v1
    description: Local development server

paths:
  /equipment:
    post:
      summary: Create equipment
      operationId: equipment
      tags:
        - Equipment
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Barbell" 
                description:
                  type: string
                  example: "Olympic barbell for strength training"
              required:
                - name
      responses:
        '201':
          description: Equipment created successfully
        '400':
          description: Bad request - Invalid input data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict - Name already exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      summary: Update equipment
      operationId: updateEquipment
      tags:
        - Equipment
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: number
                name:
                  type: string
                description:
                  type: string
              required:
                - id
      responses:
        '200':
          description: Equipment updated successfully
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Equipment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /equipment/all:
    get:
      summary: Get all equipments 
      operationId: getAllEquipments
      tags:
        - Equipment
      responses:
        '200':
          description: equipment found
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Equipment'
        '404':
          description: Equipment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /equipment/{id}:
    get:
      summary: Get equipment by id 
      operationId: getEquipmentByID
      tags:
        - Equipment
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: ID
      responses:
        '200':
          description: equipment found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Equipment'
        '404':
          description: Equipment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete equipment
      operationId: deleteEquipment
      tags:
        - Equipment
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Equipment deleted successfully
        '404':
          description: Equipment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /attachment:
    post:
      summary: Create attachment
      operationId: attachment
      tags:
        - Attachment
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                equipment_id:
                  type: number
                  example: 2
                name:
                  type: string
                  example: "Long Bar"
              required:
                - equipment_id
                - name
      responses:
        '201':
          description: Attachment created successfully
        '400':
          description: Bad request - Invalid input data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict - Name already exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      summary: Update attachment
      operationId: updateAttachment
      tags:
        - Attachment
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: number
                equipmentID:
                  type: number
                name:
                  type: string
              required:
                - id
      responses:
        '200':
          description: Attachment updated successfully
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Attachment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /attachment/all:
    get:
      summary: Get all attachments 
      operationId: getAllAttachments
      tags:
        - Attachment
      responses:
        '200':
          description: attachment found
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Attachment'
        '404':
          description: Attachment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /attachment/{id}:
    get:
      summary: Get attachment by id 
      operationId: getAttachmentByID
      tags:
        - Attachment
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: ID
      responses:
        '200':
          description: attachment found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Attachment'
        '404':
          description: Attachment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete attachment
      operationId: deleteAttachment
      tags:
        - Attachment
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Attachment deleted successfully
        '404':
          description: Attachment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /attachment/equipment/{equipmentID}:
    get:
      summary: Get Attachments by equipment ID 
      operationId: getAttachmentByEquipmentID
      tags:
        - Attachment
      parameters:
        - name: equipmentID
          in: path
          required: true
          schema:
            type: integer
          description: Equipment ID
      responses:
        '200':
          description: attachment found
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Attachment'
        '404':
          description: Attachment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /muscle-group:
    post:
      summary: Create muscle group
      operationId: muscleGroup
      tags:
        - MuscleGroup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Chest" 
                description:
                  type: string
                  example: "Upper body pushing muscles"
              required:
                - name
      responses:
        '201':
          description: Muscle Group created successfully
        '400':
          description: Bad request - Invalid input data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict - Name already exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      summary: Update muscle group
      operationId: updateMuscleGroup
      tags:
        - MuscleGroup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: number
                name:
                  type: string
                description:
                  type: string
              required:
                - id
      responses:
        '200':
          description: Muscle group updated successfully
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Muscle group not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /muscle-group/all:
    get:
      summary: Get all muscle groups
      operationId: getAllMuscleGroups
      tags:
        - MuscleGroup
      responses:
        '200':
          description: muscle group found
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/MuscleGroup'
        '404':
          description: Muscle group not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /muscle-group/{id}:
    get:
      summary: Get muscle group by id 
      operationId: getMuscleGroupByID
      tags:
        - MuscleGroup
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: ID
      responses:
        '200':
          description: muscle group found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MuscleGroup'
        '404':
          description: Muscle group not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete muscle group
      operationId: deleteMuscleGroup
      tags:
        - MuscleGroup
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Muscle group deleted successfully
        '404':
          description: Muscle group not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /muscle:
    post:
      summary: Create muscle
      operationId: muscle
      tags:
        - Muscle
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                muscle_group_id:
                  type: number
                  example: 1
                name:
                  type: string
                  example: "Pectoralis Major" 
              required:
                - muscle_group_id
                - name
      responses:
        '201':
          description: Muscle created successfully
        '400':
          description: Bad request - Invalid input data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict - Name already exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      summary: Update muscle
      operationId: updateMuscle
      tags:
        - Muscle
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: number
                muscleGroupID:
                  type: number
                name:
                  type: string
              required:
                - id
      responses:
        '200':
          description: Muscle updated successfully
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Muscle not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /muscle/all:
    get:
      summary: Get all muscles
      operationId: getAllMuscles
      tags:
        - Muscle
      responses:
        '200':
          description: muscle found
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Muscle'
        '404':
          description: Muscle not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /muscle/{id}:
    get:
      summary: Get muscle by id 
      operationId: getMuscleByID
      tags:
        - Muscle
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: ID
      responses:
        '200':
          description: muscle found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Muscle'
        '404':
          description: Muscle not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete muscle
      operationId: deleteMuscle
      tags:
        - Muscle
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Muscle deleted successfully
        '404':
          description: Muscle not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /muscle/group/{muscleGroupID}:
    get:
      summary: Get muscles by muscle group ID 
      operationId: getMusclesByMuscleGroupID
      tags:
        - Muscle
      parameters:
        - name: muscleGroupID
          in: path
          required: true
          schema:
            type: integer
          description: Muscle group ID
      responses:
        '200':
          description: muscle found
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Muscle'
        '404':
          description: Muscle not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /category:
    post:
      summary: Create category
      operationId: Category
      tags:
        - Category
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: "Strength" 
              required:
                - name
      responses:
        '201':
          description: category created successfully
        '400':
          description: Bad request - Invalid input data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict - Name already exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      summary: Update category
      operationId: updateCategory
      tags:
        - Category
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: number
                name:
                  type: string
              required:
                - id
      responses:
        '200':
          description: category updated successfully
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: category not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /category/all:
    get:
      summary: Get all categories
      operationId: getAllCategories
      tags:
        - Category
      responses:
        '200':
          description: category found
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Category'
        '404':
          description: category not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /category/{id}:
    get:
      summary: Get category by id 
      operationId: getCategoryByID
      tags:
        - Category
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: ID
      responses:
        '200':
          description: category found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Category'
        '404':
          description: category not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete category
      operationId: deleteCategory
      tags:
        - Category
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: category deleted successfully
        '404':
          description: category not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /subcategory:
    post:
      summary: Create subcategory
      operationId: subcategory
      tags:
        - subcategory
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                category_id:
                  type: number
                  example: 1
                name:
                  type: string
                  example: "Compound Movements" 
              required:
                - category_id
                - name
      responses:
        '201':
          description: subcategory created successfully
        '400':
          description: Bad request - Invalid input data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Conflict - Name already exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      summary: Update subcategory
      operationId: updatesubcategory
      tags:
        - subcategory
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: number
                CategoryID:
                  type: number
                name:
                  type: string
              required:
                - id
      responses:
        '200':
          description: subcategory updated successfully
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: subcategory not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /subcategory/all:
    get:
      summary: Get all subcategories
      operationId: getAllSubcategories
      tags:
        - subcategory
      responses:
        '200':
          description: subcategory found
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Subcategory'
        '404':
          description: subcategory not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /subcategory/{id}:
    get:
      summary: Get subcategory by id 
      operationId: getSubcategoryByID
      tags:
        - subcategory
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: ID
      responses:
        '200':
          description: subcategory found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subcategory'
        '404':
          description: subcategory not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

    delete:
      summary: Delete subcategory
      operationId: deletesubcategory
      tags:
        - subcategory
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: subcategory deleted successfully
        '404':
          description: subcategory not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /subcategory/category/{CategoryID}:
    get:
      summary: Get subcategories by category ID 
      operationId: getSubcategoriesByCategoryID
      tags:
        - subcategory
      parameters:
        - name: CategoryID
          in: path
          required: true
          schema:
            type: integer
          description: category ID
      responses:
        '200':
          description: subcategory found
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Subcategory'
        '404':
          description: subcategory not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
components:
  schemas:
    Equipment:
      type: object
      properties:
        id:
          type: integer
          nullable: true
          example: 1
        name:
          type: string
          nullable: false
          example: "Barbell"
        description:
          type: string
          nullable: true
          example: "Olympic barbell"
        created_at:
          type: string
          format: date-time
          example: "2025-01-15T10:30:00Z"
        updated_at:
          type: string
          format: date-time
          example: "2025-01-15T10:30:00Z"
    Attachment:
      type: object
      properties:
        id:
          type: integer
          nullable: true
          example: 1
        equipmentID:
          type: integer
          nullable: false
          example: 2
        name:
          type: string
          nullable: true
          example: "Long Bar"
        created_at:
          type: string
          format: date-time
          example: "2025-01-15T10:30:00Z"
        updated_at:
          type: string
          format: date-time
          example: "2025-01-15T10:30:00Z"
    MuscleGroup:
      type: object
      properties:
        id:
          type: integer
          nullable: true
          example: 1
        name:
          type: string
          nullable: false
          example: "Chest"
        description:
          type: string
          nullable: true
          example: "Upper body pushing muscles"
        created_at:
          type: string
          format: date-time
          example: "2025-01-15T10:30:00Z"
        updated_at:
          type: string
          format: date-time
          example: "2025-01-15T10:30:00Z"
    Muscle:
      type: object
      properties:
        id:
          type: integer
          nullable: true
          example: 1
        muscleGroupID:
          type: integer
          nullable: false
          example: 2
        name:
          type: string
          nullable: true
          example: "Pectoralis Major"
        created_at:
          type: string
          format: date-time
          example: "2025-01-15T10:30:00Z"
        updated_at:
          type: string
          format: date-time
          example: "2025-01-15T10:30:00Z"
    Category:
      type: object
      properties:
        id:
          type: integer
          nullable: true
          example: 1
        name:
          type: string
          nullable: false
          example: "Strength"
        created_at:
          type: string
          format: date-time
          example: "2025-01-15T10:30:00Z"
        updated_at:
          type: string
          format: date-time
          example: "2025-01-15T10:30:00Z"
    Subcategory:
      type: object
      properties:
        id:
          type: integer
          nullable: true
          example: 1
        categoryID:
          type: integer
          nullable: false
          example: 2
        name:
          type: string
          nullable: true
          example: "Compound Movements"
        created_at:
          type: string
          format: date-time
          example: "2025-01-15T10:30:00Z"
        updated_at:
          type: string
          format: date-time
          example: "2025-01-15T10:30:00Z"
    Error:
      type: object
      properties:
        error:
          type: string
          example: "Invalid request parameters"
        code:
          type: string
          example: "INVALID_INPUT"
      required:
        - error
